# Reshape this data so that we have one record (row) per alternate allele.
SELECT reference_name, start, end, reference_bases, alternate_bases, quality,
filter, names, AC, AC_AFR, AC_AMR, AC_Adj, AC_EAS, AC_FIN, AC_Het, AC_Hom, AC_NFE,
AC_OTH, AC_SAS, AF, AN, AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH,
AN_SAS, BaseQRankSum, CSQ, ClippingRankSum, DB, DP, DP_HIST, FS, GQ_HIST, GQ_MEAN,
GQ_STDDEV, Het_AFR, Het_AMR, Het_EAS, Het_FIN, Het_NFE, Het_OTH, Het_SAS, Hom_AFR,
Hom_AMR, Hom_EAS, Hom_FIN, Hom_NFE, Hom_OTH, Hom_SAS, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit
FROM
(
SELECT
reference_name, start, end, reference_bases, quality, filter, names, AN,
AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH, AN_SAS, BaseQRankSum,
CSQ, ClippingRankSum, DB, DP, FS, GQ_MEAN, GQ_STDDEV, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit,
# The formerly REPEATED fields, one value per alternate
NTH(1, alternate_bases) WITHIN RECORD AS alternate_bases,
NTH(1, AC) WITHIN RECORD AS AC,
NTH(1, AC_AFR) WITHIN RECORD AS AC_AFR,
NTH(1, AC_AMR) WITHIN RECORD AS AC_AMR,
NTH(1, AC_Adj) WITHIN RECORD AS AC_Adj,
NTH(1, AC_EAS) WITHIN RECORD AS AC_EAS,
NTH(1, AC_FIN) WITHIN RECORD AS AC_FIN,
NTH(1, AC_Het) WITHIN RECORD AS AC_Het,
NTH(1, AC_Hom) WITHIN RECORD AS AC_Hom,
NTH(1, AC_NFE) WITHIN RECORD AS AC_NFE,
NTH(1, AC_OTH) WITHIN RECORD AS AC_OTH,
NTH(1, AC_SAS) WITHIN RECORD AS AC_SAS,
NTH(1, AF) WITHIN RECORD AS AF,
NTH(1, Het_AFR) WITHIN RECORD AS Het_AFR,
NTH(1, Het_AMR) WITHIN RECORD AS Het_AMR,
NTH(1, Het_EAS) WITHIN RECORD AS Het_EAS,
NTH(1, Het_FIN) WITHIN RECORD AS Het_FIN,
NTH(1, Het_NFE) WITHIN RECORD AS Het_NFE,
NTH(1, Het_OTH) WITHIN RECORD AS Het_OTH,
NTH(1, Het_SAS) WITHIN RECORD AS Het_SAS,
NTH(1, Hom_AFR) WITHIN RECORD AS Hom_AFR,
NTH(1, Hom_AMR) WITHIN RECORD AS Hom_AMR,
NTH(1, Hom_EAS) WITHIN RECORD AS Hom_EAS,
NTH(1, Hom_FIN) WITHIN RECORD AS Hom_FIN,
NTH(1, Hom_NFE) WITHIN RECORD AS Hom_NFE,
NTH(1, Hom_OTH) WITHIN RECORD AS Hom_OTH,
NTH(1, Hom_SAS) WITHIN RECORD AS Hom_SAS,
NTH(1, DP_HIST) WITHIN RECORD AS DP_HIST,
NTH(1, GQ_HIST) WITHIN RECORD AS GQ_HIST,
FROM [google.com:biggene:ExAC_release_0_2.variants]
OMIT RECORD IF COUNT(alternate_bases) < 1
),
(
SELECT
reference_name, start, end, reference_bases, quality, filter, names, AN,
AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH, AN_SAS, BaseQRankSum,
CSQ, ClippingRankSum, DB, DP, FS, GQ_MEAN, GQ_STDDEV, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit,
# The formerly REPEATED fields, one value per alternate
NTH(2, alternate_bases) WITHIN RECORD AS alternate_bases,
NTH(2, AC) WITHIN RECORD AS AC,
NTH(2, AC_AFR) WITHIN RECORD AS AC_AFR,
NTH(2, AC_AMR) WITHIN RECORD AS AC_AMR,
NTH(2, AC_Adj) WITHIN RECORD AS AC_Adj,
NTH(2, AC_EAS) WITHIN RECORD AS AC_EAS,
NTH(2, AC_FIN) WITHIN RECORD AS AC_FIN,
NTH(2, AC_Het) WITHIN RECORD AS AC_Het,
NTH(2, AC_Hom) WITHIN RECORD AS AC_Hom,
NTH(2, AC_NFE) WITHIN RECORD AS AC_NFE,
NTH(2, AC_OTH) WITHIN RECORD AS AC_OTH,
NTH(2, AC_SAS) WITHIN RECORD AS AC_SAS,
NTH(2, AF) WITHIN RECORD AS AF,
NTH(2, Het_AFR) WITHIN RECORD AS Het_AFR,
NTH(2, Het_AMR) WITHIN RECORD AS Het_AMR,
NTH(2, Het_EAS) WITHIN RECORD AS Het_EAS,
NTH(2, Het_FIN) WITHIN RECORD AS Het_FIN,
NTH(2, Het_NFE) WITHIN RECORD AS Het_NFE,
NTH(2, Het_OTH) WITHIN RECORD AS Het_OTH,
NTH(2, Het_SAS) WITHIN RECORD AS Het_SAS,
NTH(2, Hom_AFR) WITHIN RECORD AS Hom_AFR,
NTH(2, Hom_AMR) WITHIN RECORD AS Hom_AMR,
NTH(2, Hom_EAS) WITHIN RECORD AS Hom_EAS,
NTH(2, Hom_FIN) WITHIN RECORD AS Hom_FIN,
NTH(2, Hom_NFE) WITHIN RECORD AS Hom_NFE,
NTH(2, Hom_OTH) WITHIN RECORD AS Hom_OTH,
NTH(2, Hom_SAS) WITHIN RECORD AS Hom_SAS,
NTH(2, DP_HIST) WITHIN RECORD AS DP_HIST,
NTH(2, GQ_HIST) WITHIN RECORD AS GQ_HIST,
FROM [google.com:biggene:ExAC_release_0_2.variants]
OMIT RECORD IF COUNT(alternate_bases) < 2
),
(
SELECT
reference_name, start, end, reference_bases, quality, filter, names, AN,
AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH, AN_SAS, BaseQRankSum,
CSQ, ClippingRankSum, DB, DP, FS, GQ_MEAN, GQ_STDDEV, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit,
# The formerly REPEATED fields, one value per alternate
NTH(3, alternate_bases) WITHIN RECORD AS alternate_bases,
NTH(3, AC) WITHIN RECORD AS AC,
NTH(3, AC_AFR) WITHIN RECORD AS AC_AFR,
NTH(3, AC_AMR) WITHIN RECORD AS AC_AMR,
NTH(3, AC_Adj) WITHIN RECORD AS AC_Adj,
NTH(3, AC_EAS) WITHIN RECORD AS AC_EAS,
NTH(3, AC_FIN) WITHIN RECORD AS AC_FIN,
NTH(3, AC_Het) WITHIN RECORD AS AC_Het,
NTH(3, AC_Hom) WITHIN RECORD AS AC_Hom,
NTH(3, AC_NFE) WITHIN RECORD AS AC_NFE,
NTH(3, AC_OTH) WITHIN RECORD AS AC_OTH,
NTH(3, AC_SAS) WITHIN RECORD AS AC_SAS,
NTH(3, AF) WITHIN RECORD AS AF,
NTH(3, Het_AFR) WITHIN RECORD AS Het_AFR,
NTH(3, Het_AMR) WITHIN RECORD AS Het_AMR,
NTH(3, Het_EAS) WITHIN RECORD AS Het_EAS,
NTH(3, Het_FIN) WITHIN RECORD AS Het_FIN,
NTH(3, Het_NFE) WITHIN RECORD AS Het_NFE,
NTH(3, Het_OTH) WITHIN RECORD AS Het_OTH,
NTH(3, Het_SAS) WITHIN RECORD AS Het_SAS,
NTH(3, Hom_AFR) WITHIN RECORD AS Hom_AFR,
NTH(3, Hom_AMR) WITHIN RECORD AS Hom_AMR,
NTH(3, Hom_EAS) WITHIN RECORD AS Hom_EAS,
NTH(3, Hom_FIN) WITHIN RECORD AS Hom_FIN,
NTH(3, Hom_NFE) WITHIN RECORD AS Hom_NFE,
NTH(3, Hom_OTH) WITHIN RECORD AS Hom_OTH,
NTH(3, Hom_SAS) WITHIN RECORD AS Hom_SAS,
NTH(3, DP_HIST) WITHIN RECORD AS DP_HIST,
NTH(3, GQ_HIST) WITHIN RECORD AS GQ_HIST,
FROM [google.com:biggene:ExAC_release_0_2.variants]
OMIT RECORD IF COUNT(alternate_bases) < 3
),
(
SELECT
reference_name, start, end, reference_bases, quality, filter, names, AN,
AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH, AN_SAS, BaseQRankSum,
CSQ, ClippingRankSum, DB, DP, FS, GQ_MEAN, GQ_STDDEV, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit,
# The formerly REPEATED fields, one value per alternate
NTH(4, alternate_bases) WITHIN RECORD AS alternate_bases,
NTH(4, AC) WITHIN RECORD AS AC,
NTH(4, AC_AFR) WITHIN RECORD AS AC_AFR,
NTH(4, AC_AMR) WITHIN RECORD AS AC_AMR,
NTH(4, AC_Adj) WITHIN RECORD AS AC_Adj,
NTH(4, AC_EAS) WITHIN RECORD AS AC_EAS,
NTH(4, AC_FIN) WITHIN RECORD AS AC_FIN,
NTH(4, AC_Het) WITHIN RECORD AS AC_Het,
NTH(4, AC_Hom) WITHIN RECORD AS AC_Hom,
NTH(4, AC_NFE) WITHIN RECORD AS AC_NFE,
NTH(4, AC_OTH) WITHIN RECORD AS AC_OTH,
NTH(4, AC_SAS) WITHIN RECORD AS AC_SAS,
NTH(4, AF) WITHIN RECORD AS AF,
NTH(4, Het_AFR) WITHIN RECORD AS Het_AFR,
NTH(4, Het_AMR) WITHIN RECORD AS Het_AMR,
NTH(4, Het_EAS) WITHIN RECORD AS Het_EAS,
NTH(4, Het_FIN) WITHIN RECORD AS Het_FIN,
NTH(4, Het_NFE) WITHIN RECORD AS Het_NFE,
NTH(4, Het_OTH) WITHIN RECORD AS Het_OTH,
NTH(4, Het_SAS) WITHIN RECORD AS Het_SAS,
NTH(4, Hom_AFR) WITHIN RECORD AS Hom_AFR,
NTH(4, Hom_AMR) WITHIN RECORD AS Hom_AMR,
NTH(4, Hom_EAS) WITHIN RECORD AS Hom_EAS,
NTH(4, Hom_FIN) WITHIN RECORD AS Hom_FIN,
NTH(4, Hom_NFE) WITHIN RECORD AS Hom_NFE,
NTH(4, Hom_OTH) WITHIN RECORD AS Hom_OTH,
NTH(4, Hom_SAS) WITHIN RECORD AS Hom_SAS,
NTH(4, DP_HIST) WITHIN RECORD AS DP_HIST,
NTH(4, GQ_HIST) WITHIN RECORD AS GQ_HIST,
FROM [google.com:biggene:ExAC_release_0_2.variants]
OMIT RECORD IF COUNT(alternate_bases) < 4
),
(
SELECT
reference_name, start, end, reference_bases, quality, filter, names, AN,
AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH, AN_SAS, BaseQRankSum,
CSQ, ClippingRankSum, DB, DP, FS, GQ_MEAN, GQ_STDDEV, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit,
# The formerly REPEATED fields, one value per alternate
NTH(5, alternate_bases) WITHIN RECORD AS alternate_bases,
NTH(5, AC) WITHIN RECORD AS AC,
NTH(5, AC_AFR) WITHIN RECORD AS AC_AFR,
NTH(5, AC_AMR) WITHIN RECORD AS AC_AMR,
NTH(5, AC_Adj) WITHIN RECORD AS AC_Adj,
NTH(5, AC_EAS) WITHIN RECORD AS AC_EAS,
NTH(5, AC_FIN) WITHIN RECORD AS AC_FIN,
NTH(5, AC_Het) WITHIN RECORD AS AC_Het,
NTH(5, AC_Hom) WITHIN RECORD AS AC_Hom,
NTH(5, AC_NFE) WITHIN RECORD AS AC_NFE,
NTH(5, AC_OTH) WITHIN RECORD AS AC_OTH,
NTH(5, AC_SAS) WITHIN RECORD AS AC_SAS,
NTH(5, AF) WITHIN RECORD AS AF,
NTH(5, Het_AFR) WITHIN RECORD AS Het_AFR,
NTH(5, Het_AMR) WITHIN RECORD AS Het_AMR,
NTH(5, Het_EAS) WITHIN RECORD AS Het_EAS,
NTH(5, Het_FIN) WITHIN RECORD AS Het_FIN,
NTH(5, Het_NFE) WITHIN RECORD AS Het_NFE,
NTH(5, Het_OTH) WITHIN RECORD AS Het_OTH,
NTH(5, Het_SAS) WITHIN RECORD AS Het_SAS,
NTH(5, Hom_AFR) WITHIN RECORD AS Hom_AFR,
NTH(5, Hom_AMR) WITHIN RECORD AS Hom_AMR,
NTH(5, Hom_EAS) WITHIN RECORD AS Hom_EAS,
NTH(5, Hom_FIN) WITHIN RECORD AS Hom_FIN,
NTH(5, Hom_NFE) WITHIN RECORD AS Hom_NFE,
NTH(5, Hom_OTH) WITHIN RECORD AS Hom_OTH,
NTH(5, Hom_SAS) WITHIN RECORD AS Hom_SAS,
NTH(5, DP_HIST) WITHIN RECORD AS DP_HIST,
NTH(5, GQ_HIST) WITHIN RECORD AS GQ_HIST,
FROM [google.com:biggene:ExAC_release_0_2.variants]
OMIT RECORD IF COUNT(alternate_bases) < 5
),
(
SELECT
reference_name, start, end, reference_bases, quality, filter, names, AN,
AN_AFR, AN_AMR, AN_Adj, AN_EAS, AN_FIN, AN_NFE, AN_OTH, AN_SAS, BaseQRankSum,
CSQ, ClippingRankSum, DB, DP, FS, GQ_MEAN, GQ_STDDEV, InbreedingCoeff, MQ, MQ0,
MQRankSum, NCC, NEGATIVE_TRAIN_SITE, POSITIVE_TRAIN_SITE, QD, ReadPosRankSum,
VQSLOD, culprit,
# The formerly REPEATED fields, one value per alternate
NTH(6, alternate_bases) WITHIN RECORD AS alternate_bases,
NTH(6, AC) WITHIN RECORD AS AC,
NTH(6, AC_AFR) WITHIN RECORD AS AC_AFR,
NTH(6, AC_AMR) WITHIN RECORD AS AC_AMR,
NTH(6, AC_Adj) WITHIN RECORD AS AC_Adj,
NTH(6, AC_EAS) WITHIN RECORD AS AC_EAS,
NTH(6, AC_FIN) WITHIN RECORD AS AC_FIN,
NTH(6, AC_Het) WITHIN RECORD AS AC_Het,
NTH(6, AC_Hom) WITHIN RECORD AS AC_Hom,
NTH(6, AC_NFE) WITHIN RECORD AS AC_NFE,
NTH(6, AC_OTH) WITHIN RECORD AS AC_OTH,
NTH(6, AC_SAS) WITHIN RECORD AS AC_SAS,
NTH(6, AF) WITHIN RECORD AS AF,
NTH(6, Het_AFR) WITHIN RECORD AS Het_AFR,
NTH(6, Het_AMR) WITHIN RECORD AS Het_AMR,
NTH(6, Het_EAS) WITHIN RECORD AS Het_EAS,
NTH(6, Het_FIN) WITHIN RECORD AS Het_FIN,
NTH(6, Het_NFE) WITHIN RECORD AS Het_NFE,
NTH(6, Het_OTH) WITHIN RECORD AS Het_OTH,
NTH(6, Het_SAS) WITHIN RECORD AS Het_SAS,
NTH(6, Hom_AFR) WITHIN RECORD AS Hom_AFR,
NTH(6, Hom_AMR) WITHIN RECORD AS Hom_AMR,
NTH(6, Hom_EAS) WITHIN RECORD AS Hom_EAS,
NTH(6, Hom_FIN) WITHIN RECORD AS Hom_FIN,
NTH(6, Hom_NFE) WITHIN RECORD AS Hom_NFE,
NTH(6, Hom_OTH) WITHIN RECORD AS Hom_OTH,
NTH(6, Hom_SAS) WITHIN RECORD AS Hom_SAS,
NTH(6, DP_HIST) WITHIN RECORD AS DP_HIST,
NTH(6, GQ_HIST) WITHIN RECORD AS GQ_HIST,
FROM [google.com:biggene:ExAC_release_0_2.variants]
OMIT RECORD IF COUNT(alternate_bases) < 6
)
